<script src="/js/jquery.min.js"></script>
{{with resources.Get "js/main.js" | js.Build (dict "minify" true) | fingerprint}}
<script src="{{.RelPermalink}}"></script>
{{end}}

<script>
  $(document).ready(function () {
    $('.prose h2, .prose h3, .prose h4, .prose h5, .prose h6').each(function () {
      var $header = $(this);
      var id = $header.attr('id');

      if (id) {
        var $link = $('<a>', {
          href: '#' + id,
          class: 'ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200',
          'aria-label': 'Link to this section'
        }).append(
          $('<svg>', {
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            'stroke-width': "1.5",
            stroke: "currentColor",
            class: "w-5 h-5"
          }).append(
            $('<path>', {
              'stroke-linecap': "round",
              'stroke-linejoin': "round",
              d: "M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"
            })
          )
        );

        $header.append($link);
        $header.addClass('group flex items-center');
      }
    });

    $('.prose a[href^="#"]').on('click', function (event) {
      event.preventDefault();

      var target = $(this.getAttribute('href'));

      if (target.length) {
        $('html, body').animate({
          scrollTop: target.offset().top - 100 // Adjust the '100' value as needed for your layout
        }, 500); // Adjust the duration (in milliseconds) as needed

        // Update URL without reloading the page
        history.pushState(null, null, this.getAttribute('href'));
      }
    });
  });
</script>


<script src="/js/mathjax.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['\\[', '\\]'], ['$$', '$$']], ,
        displayMath: [['\[','\]', ['$', '$']]],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
        TeX: { equationNumbers: { autoNumber: "AMS" },
             extensions: ["AMSmath.js", "AMSsymbols.js"] }
      }
    });
    </script>

<script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        // Fix <code> tags after MathJax finishes running. This is a
        // hack to overcome a shortcoming of Markdown. Discussion at
        // https://github.com/mojombo/jekyll/issues/199
        var all = MathJax.Hub.getAllJax(), i;
        for(i = 0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>